{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { userAPI } from '@/services/api';\nexport default {\n  __name: 'UserBookings',\n  setup(__props) {\n    const bookings = ref([]);\n    const loading = ref(true);\n    const error = ref(null);\n    onMounted(async () => {\n      try {\n        console.log('Fetching bookings...');\n        const data = await userAPI.getBookings();\n        console.log('Bookings data:', data);\n\n        // The response is already the data array\n        bookings.value = Array.isArray(data) ? data : [];\n        console.log('Processed bookings:', bookings.value);\n      } catch (err) {\n        console.error('Failed to load bookings:', err);\n        error.value = err.response?.data?.message || 'Failed to load bookings';\n        bookings.value = [];\n      } finally {\n        loading.value = false;\n      }\n    });\n    return {\n      __sfc: true,\n      bookings,\n      loading,\n      error\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","userAPI","bookings","loading","error","console","log","data","getBookings","value","Array","isArray","err","response","message"],"sources":["UserBookings.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Your Bookings</h2>\r\n    <div v-if=\"loading\" class=\"loading\">\r\n      Loading bookings...\r\n    </div>\r\n    <template v-else>\r\n      <div v-if=\"error\" class=\"error\">\r\n        {{ error }}\r\n      </div>\r\n      <template v-else>\r\n        <ul v-if=\"bookings && bookings.length > 0\">\r\n          <li v-for=\"booking in bookings\" :key=\"booking.id\">\r\n            {{ booking.campingSpot?.name || 'Unknown Spot' }}: {{ booking.startDate }} to {{ booking.endDate }}\r\n          </li>\r\n        </ul>\r\n        <p v-else>No bookings yet.</p>\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { userAPI } from '@/services/api';\r\n\r\nconst bookings = ref([]);\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\n\r\nonMounted(async () => {\r\n  try {\r\n    console.log('Fetching bookings...');\r\n    const data = await userAPI.getBookings();\r\n    console.log('Bookings data:', data);\r\n    \r\n    // The response is already the data array\r\n    bookings.value = Array.isArray(data) ? data : [];\r\n    console.log('Processed bookings:', bookings.value);\r\n  } catch (err) {\r\n    console.error('Failed to load bookings:', err);\r\n    error.value = err.response?.data?.message || 'Failed to load bookings';\r\n    bookings.value = [];\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.loading, .error {\r\n  text-align: center;\r\n  padding: 1rem;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.loading {\r\n  color: #666;\r\n}\r\n\r\n.error {\r\n  color: #dc3545;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 4px;\r\n}\r\n\r\nul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\nli {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\nli:last-child {\r\n  border-bottom: none;\r\n}\r\n</style>\r\n  "],"mappings":"AAuBA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,OAAO,QAAQ,gBAAgB;;;;IAExC,MAAMC,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,OAAO,GAAGJ,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMK,KAAK,GAAGL,GAAG,CAAC,IAAI,CAAC;IAEvBC,SAAS,CAAC,YAAY;MACpB,IAAI;QACFK,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;QACnC,MAAMC,IAAI,GAAG,MAAMN,OAAO,CAACO,WAAW,CAAC,CAAC;QACxCH,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEC,IAAI,CAAC;;QAEnC;QACAL,QAAQ,CAACO,KAAK,GAAGC,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE;QAChDF,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEJ,QAAQ,CAACO,KAAK,CAAC;MACpD,CAAC,CAAC,OAAOG,GAAG,EAAE;QACZP,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEQ,GAAG,CAAC;QAC9CR,KAAK,CAACK,KAAK,GAAGG,GAAG,CAACC,QAAQ,EAAEN,IAAI,EAAEO,OAAO,IAAI,yBAAyB;QACtEZ,QAAQ,CAACO,KAAK,GAAG,EAAE;MACrB,CAAC,SAAS;QACRN,OAAO,CAACM,KAAK,GAAG,KAAK;MACvB;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}